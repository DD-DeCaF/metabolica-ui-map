<!--Copyright 2018 Novo Nordisk Foundation Center for Biosustainability, DTU.-->

<!--Licensed under the Apache License, Version 2.0 (the "License");-->
<!--you may not use this file except in compliance with the License.-->
<!--You may obtain a copy of the License at-->

<!--http://www.apache.org/licenses/LICENSE-2.0-->

<!--Unless required by applicable law or agreed to in writing, software-->
<!--distributed under the License is distributed on an "AS IS" BASIS,-->
<!--WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.-->
<!--See the License for the specific language governing permissions and-->
<!--limitations under the License.-->

<md-content>
  <md-card layout="column">
    <md-input-container flex>
      <label>Species:</label>
      <md-select name="species" ng-model="ctrl.species" ng-change="ctrl.changeSpecies()">
        <md-option ng-repeat="species in ctrl.speciesList()" value="{{species.id}}">{{species.name}}</md-option>
      </md-select>
    </md-input-container>
  </md-card>
  <md-card>
    <div class="playbar md-accent" layout="row" layout-align="space-around center">
      <md-menu>
        <md-button class="md-icon-button" ng-disabled="ctrl.disableForAnimation()" ng-click="$mdMenu.open()">
          <md-icon md-font-icon="add">add</md-icon>
        </md-button>
        <md-menu-content ng-mouseleave="$mdMenu.close()">
          <md-menu-item>
            <md-button ng-click="ctrl.addRefMapObject()">
              <md-icon md-font-icon="add">add</md-icon>
              Wild type
            </md-button>
          </md-menu-item>
          <md-menu-item>
            <md-button ng-click="ctrl.addExpMapObject()">
              <md-icon md-font-icon="add">add</md-icon>
              Data driven
            </md-button>
          </md-menu-item>
        </md-menu-content>
      </md-menu>

      <md-button class="md-icon-button" ng-click="ctrl.previousMapObject()" ng-disabled="ctrl.disableControls()">
        <md-icon md-font-icon="skip_previous">navigate_before</md-icon>
      </md-button>
      <md-button class="md-icon-button" ng-click="ctrl.toggleAnimation()" ng-disabled="ctrl.disablePlayBtn()">
        <md-icon md-font-icon="ctrl.playIcon()">{{ctrl.playIcon()}}</md-icon>
      </md-button>
      <md-button class="md-icon-button" ng-click="ctrl.nextMapObject()" ng-disabled="ctrl.disableControls()">
        <md-icon md-font-icon="skip_next">navigate_next</md-icon>
      </md-button>
    </div>
  </md-card>

  <div ng-repeat="id in ctrl.getMapObjectsIds()">
    <!--The whole object could be passed down here-->
    <pv-data-card id="id" animating="ctrl.animating"></pv-data-card>
  </div>
</md-content>
