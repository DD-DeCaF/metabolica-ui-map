<md-whiteframe class="map-context-menu md-whiteframe-4dp" layout="column" layout-align="center center" ng-cloak style="visibility: hidden">
  <md-menu-content class="context-menu">
    <md-menu-item ng-repeat="action in ctrl.contextActions">
      <md-button ng-click="ctrl.processActionClick(action, ctrl.contextElement)">{{ctrl.contextActions.shared}}</md-button>
    </md-menu-item>
  </md-menu-content>
</md-whiteframe>
<pv-legend ng-show="ctrl.showLegend()"></pv-legend>
<div class="container" layout-fill layout="column" layout-align="center center">
  <div class="spinner" ng-if="ctrl.shared.isLoading()">
    <div class="map-progress">
        <md-progress-circular class="md-accent" md-diameter="85vh" layout-align="center center"></md-progress-circular>
        <p class="map-progress-text">Calculating flux distribution...</p>
    </div>
  </div>
  <div class="map-container" layout-fill layout="column" layout-align="center center"></div>
</div>

<!-- Glow filter for highlighting reactions.Could be a part of escher at some point -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" style="position: absolute; top: -99999px">
  <filter id="escher-glow-filter">
      <feGaussianBlur stdDeviation="15" result="coloredBlur"/>
      <feMerge>
          <feMergeNode in="coloredBlur"/>
          <feMergeNode in="SourceGraphic"/>
      </feMerge>
  </filter>
</svg>
