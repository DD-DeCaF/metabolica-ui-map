{"version":3,"sources":["bootstrap.ts"],"names":[],"mappings":"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","file":"bootstrap.js","sourcesContent":["// Never remove this import of `angular` from here.\n// NOTE: the import form angular also makes the `angular` namespace available globally\nimport 'angular';\n\nimport 'angular-material';\nimport 'angular-ui-router';\n// Turn of WS TS inspection for the 'decaf-common' import.\n// noinspection TypeScriptCheckImport\nimport {sharing, config, core, Config} from 'decaf-common';\nimport {API_HOST, API_PREFIX} from './bootstrap.config';\nimport main from 'src';\n\n\nconst app = angular.module('app', [\n\t// Angular\n\t'ngAnimate',\n\t'ngAria',\n\t'ngMaterial',\n\t// 3rd Party\n\t'ui.router',\n\t// Common\n\tconfig.name,\n\tsharing.name,\n\tcore.name,\n\t// Component\n\tmain.name\n]);\n\n\n// Production config\napp.config(function ($httpProvider) {\n\t// http://blog.thoughtram.io/angularjs/2015/01/14/exploring-angular-1.3-speed-up-with-applyAsync.html\n\t$httpProvider.useApplyAsync(true);\n});\n\n\n// AM theme config\napp.config(function ($mdThemingProvider) {\n\t$mdThemingProvider\n\t\t.theme('default')\n\t\t.primaryPalette('blue-grey')\n\t\t.accentPalette('grey');\n});\n\n// Router config\napp.config(function ($urlMatcherFactoryProvider, $urlRouterProvider, $stateProvider) {\n\t// Optional slash\n\t$urlMatcherFactoryProvider.strictMode(false);\n\n\t// TODO: perhaps this should not happen\n\t// Always go to the component state when visiting the root\n\t$urlRouterProvider.when('', `${main.name}`);\n\n\t// Root state\n\t$stateProvider.state('root', {\n\t\turl: '',\n\t\tabstract: true\n\t});\n});\n\n\n// Main component\nclass AppController {\n\tisSidebarVisible = true;\n\n\tconstructor($window, $scope, private config: Config) {\n\t\t$window.document.title = `Platform â€“ Component({name: ${main.name}})`;\n\t\t// noinspection TypeScriptUnresolvedFunction\n\t\tconfig.set('componentConfig', {});\n\n\t\t// Hide sidebar if there is no navigation set from the component.\n\t\t$scope.$on('$stateChangeStart', (toState, toParams) => {\n\t\t\tif (!toParams || !toParams.hasOwnProperty('views') || !toParams.views.hasOwnProperty('navigation@')) {\n\t\t\t\tthis.isSidebarVisible = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t// Update color from config\n\tget color() {\n\t\t// Turn off WS inspection for this\n\t\t// noinspection TypeScriptUnresolvedFunction\n\t\treturn this.config.get('color');\n\t}\n\n\t$onInit() {\n\t\tconsole.info('App is running.');\n\t}\n}\n\napp.component('app', {\n\tbindings: {},\n\tcontroller: AppController,\n\tcontrollerAs: 'app',\n\ttransclude: {\n\t\t'navigation': '?appNavigation',\n\t\t'toolbar': '?appToolbar'\n\t},\n\ttemplate: `\n\t\t<div layout=\"row\" flex ui-view=\"root\">\n\t\t\t<md-sidenav ng-if=\"app.isSidebarVisible\" layout=\"column\" class=\"md-sidenav-left md-whiteframe-z2\" md-component-id=\"left\" md-is-locked-open=\"$mdMedia('gt-sm')\">\n\t\t\t\t<div ng-transclude=\"navigation\"></div>\n\t\t\t\t<div ui-view=\"navigation\"></div>\n\t\t\t</md-sidenav>\n\t\t\t<div layout=\"column\" flex id=\"content\">\n\t\t\t\t<md-toolbar class=\"component-color\" ng-style=\"{'background-color': app.color || app.component.color}\">\n\t\t\t\t\t<div class=\"md-toolbar-tools\" ui-view=\"toolbar\">\n\t\t\t\t\t\t<h1 flex>\n\t\t\t\t\t\t\t{{app.component.navigation.label}}\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t<div ng-transclude=\"toolbar\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</md-toolbar>\n\t\t\t\t<md-content layout=\"column\"\n\t\t\t\t\t\t\tui-view=\"content\"\n\t\t\t\t\t\t\tflex>\n\t\t\t\t</md-content>\n\t\t\t</div>\n\t\t</div>\n\t`\n});\n\n\n// Bootstrap\nangular.element(document).ready(() => {\n\tangular.bootstrap(document.documentElement, [app.name], {\n\t\t// Do not enable strict DI.\n\t\t// NOTE: If we use `{strictDi: true}` we will not be able to use DI with ES6 classes\n\t\tstrictDi: false\n\t});\n});\n"]}