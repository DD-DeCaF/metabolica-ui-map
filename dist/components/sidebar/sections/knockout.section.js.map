{"version":3,"sources":["components/sidebar/sections/knockout.section.ts"],"names":[],"mappings":";AAAA,IAAY,CAAC,WAAM,QAAQ,CAAC,CAAA;AAI5B,qCAAqC;AACrC,6BAAsB,cAAc,CAAC,CAAA;AAErC,IAAM,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,yCAAyC,EAAE,EACzE,CAAC,CAAC;AAEH;;GAEG;AACH;IAMI,eAAe;IACf,+BAAa,MAAsB,EAAE,MAAqC,EAAE,EAAa;QAP7F,iBA0BC;QAlBO,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;QAEd,wBAAwB;QACxB,MAAM,CAAC,MAAM,CAAC,gEAAgE,EAAE;YAC5E,EAAE,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;gBAC7B,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC;gBAC7C,KAAI,CAAC,gBAAgB,GAAG,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC,gBAAgB,CAAC;gBAEzD,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAI,CAAC,UAAU,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBACpC,MAAM,CAAC,OAAO,CAAC,mBAAmB,EAAE,EAAE,EAAE;wBACpC,WAAW,EAAE,IAAI;wBACjB,OAAO,EAAE,CAAC;wBACV,eAAe,EAAE,CAAC;qBACrB,CAAC,CAAC;gBACP,CAAC;YACL,CAAC;QACL,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IACL,4BAAC;AAAD,CA1BA,AA0BC,IAAA;AAED,IAAM,iBAAiB,GAA8B;IACjD,UAAU,EAAE,qBAAqB;IACjC,YAAY,EAAE,MAAM;IACpB,WAAW,EAAK,sBAAO,CAAC,MAAM,CAAC,EAAE,CAAC,iCAA8B;IAChE,QAAQ,EAAE;QACN,MAAM,EAAE,GAAG;KACd;CACJ,CAAA;AAED,qBAAqB;AACrB,OAAO,CAAC,SAAS,CAAC,YAAY,EAAE,iBAAiB,CAAC,CAAC","file":"knockout.section.js","sourcesContent":["import * as _ from 'lodash';\n\nimport {WSService} from '../../../services/ws';\nimport * as types from '../../../types';\n// noinspection TypeScriptCheckImport\nimport {dirname} from 'decaf-common';\n\nconst section = angular.module('pathwayvis.components.sections.knockout', [\n]);\n\n/**\n * Knockout component\n */\nclass KnockoutComponentCtrl {\n    public shared: types.Shared;\n    public growthRate: number;\n    public removedReactions: string[];\n    private _ws: WSService;\n\n    /* @ngInject */\n    constructor ($scope: angular.IScope, toastr: angular.toastr.IToastrService, ws: WSService) {\n        this._ws = ws;\n\n        // Reaction data watcher\n        $scope.$watch('[ctrl.shared.map.growthRate, ctrl.shared.map.removedReactions]', () => {\n            if (this.shared.map.growthRate) {\n                this.growthRate = this.shared.map.growthRate;\n                this.removedReactions = this.shared.map.removedReactions;\n\n                if (_.round(this.growthRate, 5) === 0) {\n                    toastr.warning('Growth rate is 0!', '', {\n                        closeButton: true,\n                        timeOut: 0,\n                        extendedTimeOut: 0\n                    });\n                }\n            }\n        }, true);\n    }\n}\n\nconst KnockoutComponent: angular.IComponentOptions = {\n    controller: KnockoutComponentCtrl,\n    controllerAs: 'ctrl',\n    templateUrl: `${dirname(module.id)}/views/knockout.section.html`,\n    bindings: {\n        shared: '='\n    }\n}\n\n// Register component\nsection.component('pvKnockout', KnockoutComponent);\n"]}